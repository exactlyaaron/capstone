extends ../shared/template

block content
  h1= title

  if(user)
    .container
      .page-header.text-center
        h1
          span.fa.fa-anchor
          | Profile Page
        a(href='/logout') Logout
      .row
        // LOCAL INFORMATION
        .col-sm-4
          .well
            h3
              span.fa.fa-user
              | Local
            if(user.local.email)
              p
                strong Email
                | : #{user.local.email}
              p
                strong Password
                | : &#9679 &#9679 &#9679 &#9679 &nbsp
                a.btn.btn-default.btn-sm(href='/users/password') Change Password
              p
                a.btn.btn-default(href='/unlink/local') Unlink
            else
              a.btn.btn-default(href='/connect/local') Connect Local
        //FACEBOOK INFORMATION
        .col-sm-4
          .well
            h3.text-info
              span.fa.fa-facebook
              | &nbsp Facebook
            if(user.facebook.token)
              p
                strong ID
                | : #{user.facebook.id}
              p
                strong Name
                | : #{user.facebook.displayName}
              p
                strong Email
                | : #{user.facebook.email}
              p
                a.btn.btn-primary(href='/unlink/facebook') Unlink
            else
              a.btn.btn-primary(href='/connect/facebook') Connect Facebook
        //TWITTER INFORMATION
        .col-sm-4
          .well
            h3.text-info
              span.fa.fa-twitter
              | &nbsp Twitter
            if(user.twitter.token)
              p
                strong ID
                | : #{user.twitter.id}
              p
                strong Name
                | : #{user.twitter.displayName}
              p
                strong Email
                | : #{user.twitter.username}
              p
                a.btn.btn-info(href='/unlink/twitter') Unlink
            else
              a.btn.btn-info(href='/connect/twitter') Connect Twitter

        form(action='/users/edit', method='POST', enctype='multipart/form-data')
          label Your Profile Picture:
          input(type='file', name='photo')
          .clear
          label Your Name:
          input(type='text', name='appName', autofocus=true, value=user.appName)
          .clear
          label About you:
          textarea(type='text', name='bio', value=user.bio)
          .clear
          label Favorite Genres:
          input(type='text', name='favoriteGenres', value=user.favoriteGenres)
          .clear
          input#artist-search-input(type='text', name='artist', placeholder='Search for artists')
          a#find-artists(href='#') Find Artists
          #artist-results

          button Save Profile
